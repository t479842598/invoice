import{ai as c,aT as r,aF as R,c as p,W as o,bD as d,aX as m,o as s,a as l,bi as k,F as h,aV as _,H as f,b9 as B,U as O,bF as z,bv as H}from"./_@vue-5ba92de9.js";import{d as K}from"./form-design-8c117009.js";import"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";import"./_jquery-3a83ed9f.js";const L={class:"roadui_formdesign_subtablediv"},P={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},X=l("th",null,"默认值",-1),Q=l("th",null,"弹出页面",-1),Y={style:{"margin-left":"12px"}},Z=l("span",null,"窗口标题",-1),$={style:{"margin-left":"10px"}},ee={style:{"margin-left":"12px"}},le=l("span",null,"背景文字",-1),te={style:{"margin-left":"10px"}},ae=l("th",null,"值字段",-1),oe={style:{"margin-left":"12px"}},ne={style:{"margin-left":"12px"}},se=l("span",null,"控件宽度",-1),ue={style:{"margin-left":"10px"}},de={style:{"margin-left":"12px"}},ie=l("span",null,"窗口宽度",-1),re={style:{"margin-left":"10px"}},pe=l("th",null,"值分隔符",-1),me={style:{"margin-left":"12px"}},ve=l("th",null,"参数",-1),ce={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},he=l("th",{style:{width:"50px"}},"事件",-1),_e=l("th",null,"脚本",-1),Ie={__name:"selectdiv",setup(ye){const g=c("ajax"),u=c("utils"),E=c("qs"),N=c("ElCodemirror"),x=c("setEditRecord"),t=r({}),A=K.defaultValueOptions(),w=r(""),S=r("属性"),U=r([]),y=r([]),T=r([]),F=r([]);R(()=>{t.value=x.value.set,u.length(x.value.title)>0&&(S.value=x.value.title),W()});const G=n=>{u.length(n)!==0&&(u.hasKey(t.value,"defaultValue")||(t.value.defaultValue=""),t.value.defaultValue+=n[n.length-1])},W=()=>{if(u.length(U.value)>0){C();return}const n=[{id:"system_applibrary_type",key:"type",children:!0,valueField:"id"}];g.post("/Dictionary/GetMultipleOptions",E.stringify({json:JSON.stringify(n)})).then(a=>{U.value=a.data.type,C()}).catch(()=>{})},I=n=>{u.length(n)>0?g.post("/Applibrary/GetOptions?typeid="+n[n.length-1]).then(a=>{y.value=a.data}).catch(()=>{}):(t.value.applibraryId="",y.value=[])},j=n=>{const a=u.getArrayObj(y.value,n,"id");u.isDef(a)&&(t.value.applibraryAddress=a.address),g.post("/Program/GetFieldOptionsByApplibraryId?applibraryid="+n).then(v=>{T.value=v.data,F.value=v.data}).catch(()=>{})},C=()=>{t.value.applibraryTypeId.length>0&&I(t.value.applibraryTypeId),u.length(t.value.applibraryId)>0&&j(t.value.applibraryId)};return(n,a)=>{const v=m("el-cascader"),i=m("el-input"),b=m("el-option"),V=m("el-select"),q=m("el-input-number"),D=m("el-tab-pane"),J=m("el-tabs");return s(),p("div",L,[o(J,null,{default:d(()=>[o(D,{name:"0",label:S.value,style:{height:"100%"}},{default:d(()=>[l("table",P,[l("tr",null,[X,l("td",null,[o(v,{placeholder:"选择默认值",options:k(A),props:{expandTrigger:"hover",checkStrictly:!1},clearable:"",onChange:G,style:{width:"260px","margin-right":"18px"}},null,8,["options"]),o(i,{modelValue:t.value.defaultValue,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.defaultValue=e),style:{width:"730px"},clearable:""},null,8,["modelValue"])])]),l("tr",null,[Q,l("td",null,[o(v,{modelValue:t.value.applibraryTypeId,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.applibraryTypeId=e),placeholder:"请选择应用分类",options:U.value,onChange:I,props:{expandTrigger:"hover",checkStrictly:!1},clearable:"",style:{width:"260px","margin-right":"18px"}},null,8,["modelValue","options"]),o(V,{modelValue:t.value.applibraryId,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.applibraryId=e),onChange:j,style:{width:"323px"},clearable:""},{default:d(()=>[(s(!0),p(h,null,_(y.value,e=>(s(),f(b,{key:e.id,value:e.id,label:e.label},{default:d(()=>[l("span",null,B(e.label+(k(u).length(e.note)>0?" - "+e.note:"")),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"]),l("span",Y,[Z,l("span",$,[o(i,{modelValue:t.value.modalTitle,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.modalTitle=e),style:{width:"130px"},clearable:""},null,8,["modelValue"])])]),l("span",ee,[le,l("span",te,[o(i,{modelValue:t.value.placeholder,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.placeholder=e),placeholder:"placeholder",style:{width:"121px"},clearable:""},null,8,["modelValue"])])])])]),l("tr",null,[ae,l("td",null,[o(V,{modelValue:t.value.valueField,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.valueField=e),style:{width:"260px"},clearable:""},{default:d(()=>[(s(!0),p(h,null,_(T.value,e=>(s(),f(b,{key:e.value,value:e.value,label:e.title},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),l("span",oe,[O(" 标题字段"),o(V,{modelValue:t.value.titleField,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value.titleField=e),options:F.value,style:{width:"257px","margin-left":"12px"},clearable:""},{default:d(()=>[(s(!0),p(h,null,_(F.value,e=>(s(),f(b,{key:e.value,value:e.value,label:e.title},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])]),l("span",ne,[se,l("span",ue,[o(i,{modelValue:t.value.width,"onUpdate:modelValue":a[7]||(a[7]=e=>t.value.width=e),placeholder:"px或%",style:{width:"130px"},"allow-clear":""},null,8,["modelValue"])])]),l("span",de,[ie,l("span",re,[o(q,{modelValue:t.value.modalWidth,"onUpdate:modelValue":a[8]||(a[8]=e=>t.value.modalWidth=e),"controls-position":"right",style:{width:"121px"}},null,8,["modelValue"])])])])]),l("tr",null,[pe,l("td",null,[o(i,{modelValue:t.value.valueSeparator,"onUpdate:modelValue":a[9]||(a[9]=e=>t.value.valueSeparator=e),placeholder:"多选时多个值之间的分隔符",style:{width:"260px"},clearable:""},null,8,["modelValue"]),l("span",me,[O(" 标题分隔符"),o(i,{modelValue:t.value.titleSeparator,"onUpdate:modelValue":a[10]||(a[10]=e=>t.value.titleSeparator=e),placeholder:"多选时多个标题之间的分隔符",style:{width:"243px","margin-left":"12px"},clearable:""},null,8,["modelValue"])])])]),l("tr",null,[ve,l("td",null,[o(i,{modelValue:t.value.params,"onUpdate:modelValue":a[11]||(a[11]=e=>t.value.params=e),style:{width:"601px"},"allow-clear":"",placeholder:"js表达式，例'size=5&test='+this.formData['id']"},null,8,["modelValue"])])])])]),_:1},8,["label"]),o(D,{name:"1",label:"事件",style:{height:"100%"}},{default:d(()=>[l("table",ce,[l("tr",null,[he,l("td",null,[o(V,{modelValue:w.value,"onUpdate:modelValue":a[12]||(a[12]=e=>w.value=e)},{default:d(()=>[(s(!0),p(h,null,_(t.value.events,e=>(s(),f(b,{key:e.name,value:e.name},{default:d(()=>[O(B(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),l("tr",null,[_e,l("td",null,[(s(!0),p(h,null,_(t.value.events,e=>z((s(),p("div",{style:{width:"1040px"},key:"script_"+e.name},[o(k(N),{modelValue:e.script,"onUpdate:modelValue":M=>e.script=M,height:"250px"},null,8,["modelValue","onUpdate:modelValue"])])),[[H,w.value==e.name]])),128))])])])]),_:1})]),_:1})])}}};export{Ie as default};
