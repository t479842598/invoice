import{d as T}from"./form-design-8c117009.js";import{ai as k,aT as b,aF as A,c as h,a,b9 as d,W as r,bD as g,U as F,bi as c,aX as u,o as m,F as N,aV as O,H as U}from"./_@vue-5ba92de9.js";import"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";import"./_jquery-3a83ed9f.js";const B={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},D=a("th",{style:{width:"60px"}},"控件id",-1),J={class:"roadui_formfont"},q=a("th",null,"绑定字段",-1),j={class:"roadui_note1"},I={style:{"margin-left":"12px"}},R=a("th",null,"默认值",-1),$={__name:"hidden",props:{query:{type:String,default:()=>""}},setup(V){const o=k("utils"),v=V,y=o.query("editorname",v.query),s=window.parent.CKEDITOR.instances[y],i=s.formAttributeJSON,e=b({}),p=b([]),x=T.defaultValueOptions();A(()=>{i&&o.getConnTableFields(i.dbConn,i.dbTable).then(t=>{p.value=t}),_()});const w=t=>{o.length(t)!==0&&(e.value.defaultValue+=t[t.length-1])},_=t=>{e.value={id:"",label:"",field:"",defaultValue:""},t||(t=s.currentSelectEditorElement),t&&(e.value.id=t.getAttribute("data-id"),e.value.label=t.getAttribute("data-label"),e.value.field=t.getAttribute("data-bindfiled"),e.value.defaultValue=o.decodeURI(t.getAttribute("data-defaultvalue"))),s.currentSelectEditorElementJson=e.value,s.initFunction_hidden=_};return(t,n)=>{const C=u("el-option"),E=u("el-select"),f=u("el-input"),S=u("el-cascader");return m(),h("table",B,[a("tr",null,[D,a("td",J,d(e.value.id),1)]),a("tr",null,[q,a("td",null,[r(E,{modelValue:e.value.field,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value.field=l),filterable:"",style:{width:"260px"},clearable:""},{default:g(()=>[(m(!0),h(N,null,O(p.value,l=>(m(),U(C,{key:l.name,value:l.name,label:l.name+(c(o).length(l.comment)>0?" - "+l.comment:"")},{default:g(()=>[a("span",null,d(l.name),1),a("span",j,d(c(o).length(l.comment)>0?" - "+l.comment:""),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"]),a("span",I,[F(" 标签"),r(f,{modelValue:e.value.label,"onUpdate:modelValue":n[1]||(n[1]=l=>e.value.label=l),placeholder:"控件label",style:{width:"285px","margin-left":"12px"},clearable:""},null,8,["modelValue"])])])]),a("tr",null,[R,a("td",null,[r(S,{placeholder:"选择默认值",options:c(x),props:{expandTrigger:"hover",checkStrictly:!1},clearable:"",onChange:w,style:{width:"260px","margin-right":"18px"}},null,8,["options"]),r(f,{modelValue:e.value.defaultValue,"onUpdate:modelValue":n[2]||(n[2]=l=>e.value.defaultValue=l),style:{width:"323px"},clearable:""},null,8,["modelValue"])])])])}}};export{$ as default};
