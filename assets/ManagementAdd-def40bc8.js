import{d as q,ai as l,aF as B,aT as F,c as _,W as t,bD as n,A as N,aX as r,o as f,F as T,aV as z,U as y}from"./_@vue-5ba92de9.js";import{_ as G}from"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";const J=q({__name:"ManagementAdd",props:{query:{type:String,default:()=>""},modelValue:{type:Boolean,default:!1},id:{type:String,default:""}},emits:["update:id"],setup(b,{emit:v}){const d=l("ajax"),c=l("utils");l("config");const p=l("qs");l("index_openmenu"),l("index_removetab");const x=l("index_refreshtab"),g=v,k=b;function V(e){return N({get:()=>k[e],set:s=>{g(`update:${e}`,s)}})}const h=V("id");B(async()=>{await C()});const a=F({invoicedepartname:"",taxno:"",address:"",phone:"",openbank:"",bankaccount:"",status:""}),w=[{label:"单位名称",model:"invoicedepartname",type:"",auto:!1},{label:"纳税人识别号",model:"taxno",type:"",auto:!1},{label:"开户银行",model:"openbank",type:"",auto:!1},{label:"银行账号",model:"bankaccount",type:"",auto:!1},{label:"单位地址",model:"address",type:"textarea",auto:!0},{label:"联系电话",model:"phone",type:"",auto:!1},{label:"联系邮箱",model:"email",type:"",auto:!1}],C=async()=>{try{const e=await d.post("/InvoiceDepartment/Get",p.stringify({id:h.value}));a.value=e.data.customer}catch{}},D=async()=>{try{const e=await d.post("/InvoiceDepartment/Save",p.stringify({customerJSON:JSON.stringify(a.value)})),s=e.success?"success":"error";c.msg(e.msg,s,!1),e.success&&x()}catch{c.msg("保存数据时出现错误","error",!1)}},S=()=>{a.value={invoicedepartname:"",taxno:"",address:"",phone:"",openbank:"",bankaccount:""}};return(e,s)=>{const A=r("el-input"),u=r("el-form-item"),m=r("el-option"),I=r("el-select"),i=r("el-button"),M=r("el-form");return f(),_("div",null,[t(M,{model:a.value,class:"inline","label-width":"130px"},{default:n(()=>[(f(),_(T,null,z(w,(o,U)=>t(u,{key:U,label:o.label},{default:n(()=>[t(A,{autosize:o.auto,type:o.type,style:{width:"300px"},modelValue:a.value[o.model],"onUpdate:modelValue":j=>a.value[o.model]=j},null,8,["autosize","type","modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])),64)),t(u,{label:"状态"},{default:n(()=>[t(I,{modelValue:a.value.status,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value.status=o),placeholder:"请选择"},{default:n(()=>[t(m,{label:"启用",value:"启用"}),t(m,{label:"未启用",value:"未启用"})]),_:1},8,["modelValue"])]),_:1}),t(u,null,{default:n(()=>[t(i,{type:"primary",onClick:D},{default:n(()=>[y("保存")]),_:1}),t(i,{type:"default",onClick:S},{default:n(()=>[y("重置")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const R=G(J,[["__scopeId","data-v-3903a967"]]);export{R as default};
