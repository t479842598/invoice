import{d as E}from"./form-design-8c117009.js";import{ai as T,aT as f,aF as F,c as g,a as t,b9 as c,W as s,bD as m,U as v,bi as p,aX as u,o as _,F as N,aV as O,H as B}from"./_@vue-5ba92de9.js";import"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";import"./_jquery-3a83ed9f.js";const D={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},J=t("th",{style:{width:"60px"}},"控件id",-1),q={class:"roadui_formfont"},I=t("th",null,"绑定字段",-1),R={class:"roadui_note1"},j={style:{"margin-left":"12px"}},H=t("th",null,"默认值",-1),K=t("th",null,"显示样式",-1),L=t("th",null,null,-1),M=t("span",{class:"roadui_note1",style:{"margin-left":"18px","vertical-align":"2px"}},"每次都重新加载默认值",-1),ae={__name:"labels",props:{query:{type:String,default:()=>""}},setup(V){const n=T("utils"),y=V,x=n.query("editorname",y.query),r=window.parent.CKEDITOR.instances[x],d=r.formAttributeJSON,e=f({}),w=E.defaultValueOptions(),b=f([]);F(()=>{d&&n.getConnTableFields(d.dbConn,d.dbTable).then(a=>{b.value=a}),h()});const S=a=>{n.length(a)!==0&&(e.value.defaultValue+=a[a.length-1])},h=a=>{e.value={id:"",label:"",field:"",defaultValue:"",placeholder:"",width:"",height:"",toolbar:0},a||(a=r.currentSelectEditorElement),a&&(e.value.id=a.getAttribute("data-id"),e.value.label=a.getAttribute("data-label"),e.value.field=a.getAttribute("data-bindfiled"),e.value.defaultValue=n.decodeURI(a.getAttribute("data-defaultvalue")),e.value.style=n.decodeURI(a.getAttribute("data-style")||""),e.value.isSet=a.getAttribute("data-isset")=="true"),r.currentSelectEditorElementJson=e.value,r.initFunction_label=h};return(a,o)=>{const U=u("el-option"),k=u("el-select"),i=u("el-input"),A=u("el-cascader"),C=u("el-checkbox");return _(),g("table",D,[t("tr",null,[J,t("td",q,c(e.value.id),1)]),t("tr",null,[I,t("td",null,[s(k,{modelValue:e.value.field,"onUpdate:modelValue":o[0]||(o[0]=l=>e.value.field=l),filterable:"",style:{width:"260px"},clearable:""},{default:m(()=>[(_(!0),g(N,null,O(b.value,l=>(_(),B(U,{key:l.name,value:l.name,label:l.name+(p(n).length(l.comment)>0?" - "+l.comment:"")},{default:m(()=>[t("span",null,c(l.name),1),t("span",R,c(p(n).length(l.comment)>0?" - "+l.comment:""),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"]),t("span",j,[v(" 标签"),s(i,{modelValue:e.value.label,"onUpdate:modelValue":o[1]||(o[1]=l=>e.value.label=l),placeholder:"控件label",style:{width:"285px","margin-left":"12px"},clearable:""},null,8,["modelValue"])])])]),t("tr",null,[H,t("td",null,[s(A,{placeholder:"选择默认值",options:p(w),props:{expandTrigger:"hover",checkStrictly:!1},clearable:"",onChange:S,style:{width:"260px","margin-right":"18px"}},null,8,["options"]),s(i,{modelValue:e.value.defaultValue,"onUpdate:modelValue":o[2]||(o[2]=l=>e.value.defaultValue=l),style:{width:"323px"},clearable:""},null,8,["modelValue"])])]),t("tr",null,[K,t("td",null,[s(i,{type:"textarea",modelValue:e.value.style,"onUpdate:modelValue":o[3]||(o[3]=l=>e.value.style=l),placeholder:"标签文字css样式",style:{width:"601px"},rows:3},null,8,["modelValue"])])]),t("tr",null,[L,t("td",null,[s(C,{modelValue:e.value.isSet,"onUpdate:modelValue":o[4]||(o[4]=l=>e.value.isSet=l)},{default:m(()=>[v("始终设置默认值")]),_:1},8,["modelValue"]),M])])])}}};export{ae as default};
