import{d as T,ai as t,aT as f,aF as D,c as y,W as s,bD as n,A as M,aX as c,o as l,F as N,aV as q,H as E,U as g}from"./_@vue-5ba92de9.js";import{_ as F}from"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";const J=T({__name:"ProjectManageAdd",props:{query:{type:String,default:()=>""},modelValue:{type:Boolean,default:!1},id:{type:String,default:""}},emits:["update:id"],setup(v,{emit:x}){const u=t("ajax"),d=t("utils");t("config");const m=t("qs");t("index_openmenu"),t("index_removetab");const b=t("index_refreshtab"),i=f("");localStorage.getItem("sobInfo")!=""&&(i.value=JSON.parse(localStorage.getItem("sobInfo")));const h=x,S=v;function k(e){return M({get:()=>S[e],set:r=>{h(`update:${e}`,r)}})}const A=k("id");D(async()=>{await C()});const o=f({customercode:"",customername:"",Taxno:"",AddressPhone:"",Phone:"",BankAccount:"",Email:""}),C=async()=>{try{const e=await u.post("/Customer/Get",m.stringify({id:A.value}));o.value=e.data.customer}catch{}},P=async()=>{try{const e=await u.post("/Customer/Save?srcorgid="+i.value.id,m.stringify({customerJSON:JSON.stringify(o.value)})),r=e.success?"success":"error";d.msg(e.msg,r,!1),e.success&&b()}catch{d.msg("保存数据时出现错误","error",!1)}},V=()=>{o.value={customercode:"",customername:"",Taxno:"",AddressPhone:"",Phone:"",BankAccount:"",Email:""}};return(e,r)=>{const I=c("el-input"),p=c("el-form-item"),_=c("el-button"),j=c("el-form");return l(),y("div",null,[s(j,{model:o.value,class:"inline","label-width":"130px"},{default:n(()=>[(l(!0),y(N,null,q(e.formItems,(a,w)=>(l(),E(p,{key:w,label:a.label},{default:n(()=>[s(I,{autosize:a.auto,type:a.type,style:{width:"300px"},modelValue:o.value[a.model],"onUpdate:modelValue":B=>o.value[a.model]=B},null,8,["autosize","type","modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),128)),s(p,null,{default:n(()=>[s(_,{type:"primary",onClick:P},{default:n(()=>[g("保存")]),_:1}),s(_,{type:"default",onClick:V},{default:n(()=>[g("重置")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const Q=F(J,[["__scopeId","data-v-178da3ce"]]);export{Q as default};
