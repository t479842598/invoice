import{ai as d,aT as S,aF as T,c as i,a as e,b9 as o,W as u,bD as _,bi as a,U as s,F as V,aV as E,I as p,aX as h,o as c}from"./_@vue-5ba92de9.js";const B={class:"roadui_page",style:{padding:"0 12px"}},F={cellpadding:"0",cellspacing:"0",border:"0",style:{width:"100%"}},j={align:"center",class:"roadui_showdoc_title"},q={align:"center",class:"roadui_showdoc_title1"},I=e("span",{style:{"margin-right":"12px"}},"栏目",-1),L=e("span",{style:{"margin-right":"12px"}},"发布时间",-1),M=e("span",{style:{"margin-right":"12px"}},"发布人",-1),U={key:0},H=e("span",{style:{"margin-right":"12px"}},"来源",-1),W={key:1},$=e("span",{style:{"margin-right":"12px"}},"等级",-1),z=["innerHTML"],A={key:0},G={class:"roadui_showdoc_files"},K={__name:"view",props:{query:{type:String,default:()=>""}},setup(g){const y=d("ajax"),n=d("utils"),v=g,f=n.query("id",v.query),x=d("index_openmenu"),k=d("config"),t=S({});T(()=>{w()});const w=()=>{y.post("/Doc/GetDocShow?docid="+f).then(l=>{if(l.code==1){n.msg("加载文档数据失败！",!1);return}if(l.code==2){n.msg("您无权查看该文档！",!1);return}t.value=l.data}).catch(()=>{})},D=l=>{n.open("?loadurl="+encodeURIComponent("/system/document/print?docid="+l),1e3,600,"打印文档")};return(l,m)=>{const C=h("el-button"),b=h("el-space"),N=h("el-link");return c(),i("div",B,[e("table",F,[e("tr",null,[e("td",j,o(t.value.title),1)]),e("tr",null,[e("td",q,[u(b,{size:20},{default:_(()=>[e("span",null,[I,s(o(t.value.dirName),1)]),e("span",null,[L,s(o(a(n).replaceTime(t.value.editTime)),1)]),e("span",null,[M,s(o(t.value.editUserName),1)]),a(n).length(t.value.source)>0?(c(),i("span",U,[H,s(o(t.value.source),1)])):p("",!0),a(n).length(t.value.docRank)>0?(c(),i("span",W,[$,s(o(t.value.docRank),1)])):p("",!0),e("span",null,[u(C,{type:"primary",onClick:m[0]||(m[0]=r=>D(t.value.id))},{default:_(()=>[s("打印")]),_:1})])]),_:1})])]),e("tr",null,[e("td",null,[e("div",{class:"roadui_showdoc_contents1",innerHTML:t.value.contents},null,8,z)])]),a(n).length(t.value.files)>0?(c(),i("tr",A,[e("td",G,[s(" 附件： "),(c(!0),i(V,null,E(t.value.files,(r,R)=>(c(),i("span",{style:{"margin-right":"12px"},key:r.id},[u(N,{onClick:X=>a(n).showFile(a(x),r,a(k).SERVER_WEBADDRESS)},{default:_(()=>[s(o(++R+"、"+r.name),1)]),_:2},1032,["onClick"])]))),128))])])):p("",!0)])])}}};export{K as default};
