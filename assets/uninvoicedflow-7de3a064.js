import I from"./task-568c334e.js";import{d as K,ai as p,aT as n,b5 as Z,c as A,a as d,W as e,bD as l,bF as R,H as M,aX as c,aY as ee,aP as le,aM as te,aN as ae,o as h,U as v,I as Y,b9 as oe,F as ie,aV as ne}from"./_@vue-5ba92de9.js";import{_ as de}from"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";const F=b=>(le("data-v-d8935466"),b=b(),te(),b),re={class:"form-container"},ce=F(()=>d("table",{border:"",class:"table",style:{width:"100%",height:"30px",padding:"0"}},[d("tr",null,[d("td",{width:"87",align:"center"}," 本月额度 "),d("td",{width:"110",align:"center"}),d("td",{width:"87",align:"center"}," 已开额度 "),d("td",{width:"110",align:"center"}),d("td",{width:"87",align:"center"}," 未开额度 "),d("td",{width:"110",align:"center"})])],-1)),ue={class:"table-container"},se=F(()=>d("div",null,[d("h3",{class:"before"},"商品明细")],-1)),pe={class:"table-bottom"},ve=K({__name:"uninvoicedflow",setup(b){p("ajax");const H=p("utils");p("config"),p("qs"),p("index_openmenu"),p("index_removetab"),p("index_refreshtab");const V=n(!1),y=n(!1),j=n(!1);n("");const w=n({prop:"userNumber",order:"ascending"}),u=n(H.getPager(w.value)),z=n([]),g=n(!1),i=n({billcode:"",buyerName:"",invoiceNo:"",invoiceDate:"",invoiceType:"0",invoiceTypeCode:"",istate:""}),Q=n([{id:1,billcode:"2021010100000000001",invoiceDate:"2021-01-01",buyerName:"张三",invoiceTotalPrice:"1000.00",discountAmount:"100.00",invoiceNo:"123456789012345",invoiceTypename:"全电发票(普通发票)",status:"待开票"},{id:2,billcode:"2021010100000000001",invoiceDate:"2021-01-01",buyerName:"张三",invoiceTotalPrice:"1000.00",discountAmount:"100.00",invoiceNo:"123456789012345",invoiceTypename:"全电发票(普通发票)",status:"开票完成"},{id:3,billcode:"2021010100000000001",invoiceDate:"2021-01-01",buyerName:"张三",invoiceTotalPrice:"1000.00",discountAmount:"100.00",invoiceNo:"123456789012345",invoiceTypename:"全电发票(普通发票)",status:"已开票待返回电子版"}]),q=n([{id:1,goodsName:"商品名称",goodsSpecification:"规格型号",goodsUnit:"单位",goodsQuantity:"数量",goodsPrice:"单价",priceTaxMark:"含税",goodsTotalPrice:"金额(未税)",goodsTaxRate:"税率",goodsTotalTax:"税额",invoiceTypename1:"折扣未税",invoiceTypename2:"折扣税额",invoiceTypename3:"分类编码"}]),E=[{value:"01",label:"全电发票(增值税专用发票)"},{value:"02",label:"全电发票(普通发票)"}],N=m=>{m&&(u.value.number=1),y.value=!0,V.value=!0,i.value.size=u.value.size,i.value.number=u.value.number,i.value.order=u.value.order,V.value=!1,y.value=!1},k=n(""),L=Z(null),_=n(!1),x=()=>{L.value=I,k.value="申请开票",_.value=!0},O=()=>{N(!0),g.value=!1},W=()=>{i.value={billcode:"",buyerName:"",invoiceNo:"",invoiceDate:"",invoiceType:"0",invoiceTypeCode:"",istate:""},N(!0)},X=()=>{i.value={billcode:"",buyerName:"",invoiceNo:"",invoiceDate:"",invoiceType:"0",invoiceTypeCode:"",istate:""}},$=m=>{z.value=m};function C({row:m,column:o,rowIndex:s,columnIndex:r}){return{color:"#000",textAlign:"center"}}return ae("view_dialogshow",_),(m,o)=>{const s=c("el-button"),r=c("el-form-item"),D=c("el-form"),a=c("el-table-column"),G=c("el-tag"),S=c("el-table"),P=c("el-dialog"),T=c("el-input"),f=c("el-option"),U=c("el-select"),J=c("el-date-picker"),B=ee("loading");return h(),A("div",null,[d("div",re,[e(D,{inline:!0,style:{overflow:"hidden"}},{default:l(()=>[e(r,null,{default:l(()=>[e(s,{type:"primary",onClick:x},{default:l(()=>[v("申请开票")]),_:1}),e(s,{type:"primary",onClick:x},{default:l(()=>[v("批量开票")]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{type:"primary",onClick:o[0]||(o[0]=t=>g.value=!0),icon:"Search"},{default:l(()=>[v("查询")]),_:1}),e(s,{type:"default",onClick:W,icon:"Refresh"},{default:l(()=>[v("刷新")]),_:1})]),_:1}),e(r,{style:{float:"right"}},{default:l(()=>[ce]),_:1})]),_:1})]),d("div",ue,[R((h(),M(S,{data:Q.value,stripe:u.value.tableStripe,border:"","highlight-current-row":u.value.tableHighlightCurrentRow,style:{width:"100%",color:"#000"},"header-cell-style":C,"default-sort":w.value,onSelectionChange:$},{default:l(()=>[Y("",!0),e(a,{type:"selection",width:"55",align:"center"}),e(a,{prop:"billcode",label:"销售单据号",align:"center",width:"200"}),e(a,{prop:"invoiceDate",label:"单据日期",align:"center",width:"150"}),e(a,{prop:"buyerName",label:"客户名称",align:"center",width:"150"}),e(a,{prop:"invoiceTotalPrice",label:"金额",align:"right",width:"150"}),e(a,{prop:"discountAmount",label:"折扣",align:"center",width:"100"}),e(a,{prop:"invoiceNo",label:"发票号",align:"center",width:"200"}),e(a,{prop:"invoiceTypename",label:"发票类别",align:"center",width:"200"}),e(a,{prop:"status",label:"状态",align:"center"},{default:l(t=>[e(G,{effect:"light",type:t.row.status=="开票完成"?"success":t.row.status=="待开票"?"danger":t.row.status=="已开票待返回电子版"?"warning":"info"},{default:l(()=>[v(oe(t.row.status),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data","stripe","highlight-current-row","default-sort"])),[[B,y.value]])]),se,d("div",pe,[R((h(),M(S,{data:q.value,stripe:u.value.tableStripe,border:"","highlight-current-row":u.value.tableHighlightCurrentRow,style:{width:"100%",color:"#000"},"header-cell-style":C,"default-sort":w.value},{default:l(()=>[Y("",!0),e(a,{prop:"goodsName",label:"商品名称",align:"center",width:"200"}),e(a,{prop:"goodsSpecification",label:"规格型号",align:"center",width:"150"}),e(a,{prop:"goodsUnit",label:"单位",align:"center",width:"100"}),e(a,{prop:"goodsQuantity",label:"数量",align:"center",width:"120"}),e(a,{prop:"goodsPrice",label:"单价",align:"center",width:"150"}),e(a,{prop:"priceTaxMark",label:"含税",align:"center",width:"80"}),e(a,{prop:"goodsTotalPrice",label:"金额(未税)",align:"center",width:"150"}),e(a,{prop:"goodsTaxRate",label:"税率",align:"center",width:"100"}),e(a,{prop:"goodsTotalTax",label:"税额",align:"center",width:"100"}),e(a,{prop:"invoiceTypename1",label:"折扣未税",align:"center",width:"100"}),e(a,{prop:"invoiceTypename2",label:"折扣税额",align:"center",width:"100"}),e(a,{prop:"invoiceTypename3",label:"分类编码",align:"center",width:"120"})]),_:1},8,["data","stripe","highlight-current-row","default-sort"])),[[B,j.value]])]),e(P,{modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=t=>_.value=t),title:k.value,"align-center":"","destroy-on-close":"",width:"1300px",draggable:"","close-on-click-modal":!1},{default:l(()=>[e(I)]),_:1},8,["modelValue","title"]),e(P,{modelValue:g.value,"onUpdate:modelValue":o[8]||(o[8]=t=>g.value=t),title:"查询","align-center":"","destroy-on-close":"",width:"800px",draggable:"","close-on-click-modal":!1},{default:l(()=>[e(D,{inline:"",model:i.value,class:"inline","label-width":"100px"},{default:l(()=>[e(r,{label:"销售单据号"},{default:l(()=>[e(T,{modelValue:i.value.billcode,"onUpdate:modelValue":o[2]||(o[2]=t=>i.value.billcode=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"客户名称"},{default:l(()=>[e(T,{modelValue:i.value.buyerName,"onUpdate:modelValue":o[3]||(o[3]=t=>i.value.buyerName=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"发票号码"},{default:l(()=>[e(T,{modelValue:i.value.invoiceNo,"onUpdate:modelValue":o[4]||(o[4]=t=>i.value.invoiceNo=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"发票种类"},{default:l(()=>[e(U,{modelValue:i.value.invoiceTypeCode,"onUpdate:modelValue":o[5]||(o[5]=t=>i.value.invoiceTypeCode=t),clearable:""},{default:l(()=>[(h(),A(ie,null,ne(E,t=>e(f,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"开票状态"},{default:l(()=>[e(U,{modelValue:i.value.istate,"onUpdate:modelValue":o[6]||(o[6]=t=>i.value.istate=t),clearable:""},{default:l(()=>[e(f,{label:"待开票",value:"待开票"}),e(f,{label:"已开票待返回电子版",value:"已开票待返回电子版"}),e(f,{label:"开票完成",value:"开票完成"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"单据日期"},{default:l(()=>[e(J,{modelValue:i.value.invoiceDate,"onUpdate:modelValue":o[7]||(o[7]=t=>i.value.invoiceDate=t),type:"daterange","value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{style:{"margin-left":"30px"}},{default:l(()=>[e(s,{type:"primary",onClick:O},{default:l(()=>[v("查询")]),_:1}),e(s,{type:"default",onClick:X},{default:l(()=>[v("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const ke=de(ve,[["__scopeId","data-v-d8935466"]]);export{ke as default};
