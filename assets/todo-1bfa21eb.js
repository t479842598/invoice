import{ai as p,aT as B,aF as D,c as u,a as n,W as a,bD as o,U as r,F,aV as M,aX as i,o as _,H as k,b9 as s,bi as d,I as v}from"./_@vue-5ba92de9.js";const j={class:"roadui_home_leftdivtitle"},L={class:"roadui_home_leftdivtitle1"},S=["onClick"],U={class:"roadui_note",style:{"margin-top":"6px"}},G={__name:"todo",setup(q){const h=p("ajax"),l=p("utils"),x=p("qs"),m=p("index_openmenu"),f=B([]);D(()=>{y()});const y=()=>{const t={size:5,number:1,order:"receivetime desc"};h.post("/Flow/GetTodoList",x.stringify(t)).then(c=>{f.value=c.data.rows}).catch(()=>{})},w=t=>{const c={title:t.title,id:"task_"+t.id,url:"/flow/run/index?flowid="+t.flowId+"&stepid="+t.stepId+"&taskid="+t.id+"&groupid="+t.groupId+"&instanceid="+t.instanceId,ico:"Edit",openMode:0};m(c)},C=()=>{m({title:"待办事项",id:"task_todolist",url:"/flow/run/todo",ico:"Edit",openMode:0})};return(t,c)=>{const N=i("Edit"),g=i("el-icon"),b=i("el-link"),T=i("el-tag"),E=i("el-tooltip"),I=i("User"),V=i("el-space");return _(),u("div",null,[n("div",j,[n("span",L,[a(g,null,{default:o(()=>[a(N)]),_:1}),r("待办事项")]),a(b,{class:"roadui_home_leftdivtitlemore",onClick:c[0]||(c[0]=e=>C())},{default:o(()=>[r("更多…")]),_:1})]),(_(!0),u(F,null,M(f.value,e=>(_(),u("div",{key:e.id,onClick:z=>w(e),class:"roadui_home_leftdivitem"},[n("div",null,[e.status!=0?(_(),k(E,{key:0,placement:"top"},{content:o(()=>[n("span",null,s(d(l).length(e.completeTime)>0?"要求完成时间 "+e.completeTime:"无要求完成时间"),1)]),default:o(()=>[a(T,{color:d(l).getTaskStatusColor(e.status),effect:"dark",style:{"margin-right":"8px","border-width":"0"}},{default:o(()=>[r(s(d(l).getTaskStatusTitle(e.status)),1)]),_:2},1032,["color"])]),_:2},1024)):v("",!0),e.taskType>0?(_(),k(T,{key:1,effect:"dark",style:{"margin-right":"8px","border-width":"0"},color:d(l).getTaskTypeColor(e.taskType)},{default:o(()=>[r(s(d(l).getTaskTypeTitle(e.taskType)),1)]),_:2},1032,["color"])):v("",!0),r(s(e.title),1)]),n("div",U,[a(V,{size:18},{default:o(()=>[n("span",null,[a(g,{style:{"margin-right":"8px","vertical-align":"-1px"}},{default:o(()=>[a(I)]),_:1}),r(s(e.senderName),1)]),n("span",null,s(e.flowName)+" - "+s(e.stepName),1),n("span",null,s(d(l).replaceTime(e.receiveTimeTitle)),1)]),_:2},1024)])],8,S))),128))])}}};export{G as default};
