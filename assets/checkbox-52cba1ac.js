import{ai as g,aT as v,by as K,aF as M,c as r,W as u,bD as o,aX as d,o as n,a as t,bi as _,U as s,F as V,aV as b,H as y,b9 as R,bF as c,bv as m}from"./_@vue-5ba92de9.js";import{d as D}from"./form-design-8c117009.js";import"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";import"./_jquery-3a83ed9f.js";const W={class:"roadui_formdesign_subtablediv"},X={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},z=t("th",null,"默认值",-1),A=t("th",null,"样式",-1),G=t("th",null,"选项来源",-1),I={style:{"margin-left":"12px"}},P=t("th",null,"字典项",-1),Y=t("th",null,"字符串",-1),Z=t("th",null,"SQL",-1),$=t("th",null,"URL",-1),ee={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},le=t("th",{style:{width:"50px"}},"事件",-1),te=t("th",null,"脚本",-1),Ve={__name:"checkbox",setup(ae){const p=g("utils"),T=g("ElSelectdict"),B=g("ElCodemirror"),x=g("setEditRecord"),C=v(null),l=v({}),L=D.defaultValueOptions(),f=v(""),F=v("属性"),N=D.dataSourceOptions(),j=D.dictValueFieldOptions(),q=v([]);K(()=>l.value.dataSource,i=>{i=="sql"&&p.getConns().then(a=>{q.value=a})}),M(()=>{l.value=x.value.set,p.length(l.value.events)>0&&(f.value=l.value.events[0].name),p.length(x.value.title)>0&&(F.value=x.value.title),C.value.initTitle(l.value.dataSourceDict)});const Q=i=>{p.length(i)!==0&&(p.hasKey(l.value,"defaultValue")||(l.value.defaultValue=""),l.value.defaultValue+=i[i.length-1])};return(i,a)=>{const H=d("el-cascader"),h=d("el-input"),S=d("el-radio"),E=d("el-radio-group"),w=d("el-option"),U=d("el-select"),O=d("el-tab-pane"),J=d("el-tabs");return n(),r("div",W,[u(J,null,{default:o(()=>[u(O,{name:"0",label:F.value,style:{height:"100%"}},{default:o(()=>[t("table",X,[t("tr",null,[z,t("td",null,[u(H,{placeholder:"选择默认值",options:_(L),props:{expandTrigger:"hover",checkStrictly:!1},clearable:"",onChange:Q,style:{width:"260px","margin-right":"18px"}},null,8,["options"]),u(h,{modelValue:l.value.defaultValue,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.defaultValue=e),style:{width:"730px"},clearable:""},null,8,["modelValue"])])]),t("tr",null,[A,t("td",null,[u(E,{modelValue:l.value.buttonStyle,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.buttonStyle=e),clearable:""},{default:o(()=>[u(S,{label:"normal"},{default:o(()=>[s("常规checkbox")]),_:1}),u(S,{label:"button"},{default:o(()=>[s("按钮")]),_:1}),u(S,{label:"border"},{default:o(()=>[s("边框")]),_:1})]),_:1},8,["modelValue"])])]),t("tr",null,[G,t("td",null,[u(E,{modelValue:l.value.dataSource,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.dataSource=e),clearable:"",style:{"vertical-align":"middle"}},{default:o(()=>[(n(!0),r(V,null,b(_(N),e=>(n(),y(S,{key:e.value,label:e.value},{default:o(()=>[s(R(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),c(t("span",I,[s(" 数据连接 "),u(U,{modelValue:l.value.dataSourceSqlConn,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.dataSourceSqlConn=e),placeholder:"选择执行SQL的数据连接",clearable:"",style:{width:"200px",margin:"0 12px","vertical-align":"middle"}},{default:o(()=>[(n(!0),r(V,null,b(q.value,(e,k)=>(n(),y(w,{key:"conn_"+k,value:e.id,label:e.title},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],512),[[m,l.value.dataSource=="sql"]])])]),c(t("tr",null,[P,t("td",null,[u(_(T),{modelValue:l.value.dataSourceDict,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.dataSourceDict=e),ref_key:"dataSourceDictRef",ref:C,style:{width:"400px","margin-right":"12px"},clearable:""},null,8,["modelValue"]),s(" 值字段 "),u(U,{modelValue:l.value.dataSourceDictValueField,"onUpdate:modelValue":a[5]||(a[5]=e=>l.value.dataSourceDictValueField=e),style:{width:"127px","margin-left":"12px"},clearable:""},{default:o(()=>[(n(!0),r(V,null,b(_(j),e=>(n(),y(w,{key:e.value,value:e.value,label:e.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])],512),[[m,l.value.dataSource=="dict"]]),c(t("tr",null,[Y,t("td",null,[u(h,{type:"textarea",rows:4,modelValue:l.value.dataSourceString,"onUpdate:modelValue":a[6]||(a[6]=e=>l.value.dataSourceString=e),placeholder:"格式：选项1值,选项1标题;选项2值,选项2标题...（字符串不能有单引号)"},null,8,["modelValue"])])],512),[[m,l.value.dataSource=="string"]]),c(t("tr",null,[Z,t("td",null,[u(h,{type:"textarea",rows:4,modelValue:l.value.dataSourceSql,"onUpdate:modelValue":a[7]||(a[7]=e=>l.value.dataSourceSql=e),placeholder:"查询返回两个字段，选项值和选项标题。如果只返回一个字段，则选项值和选项标题一样。"},null,8,["modelValue"])])],512),[[m,l.value.dataSource=="sql"]]),c(t("tr",null,[$,t("td",null,[u(h,{type:"textarea",rows:4,modelValue:l.value.dataSourceUrl,"onUpdate:modelValue":a[8]||(a[8]=e=>l.value.dataSourceUrl=e),placeholder:"post一个url地址，地址返回[{value:'值',label:'标题'},...]格式json字符串。"},null,8,["modelValue"])])],512),[[m,l.value.dataSource=="url"]])])]),_:1},8,["label"]),u(O,{name:"1",label:"事件",style:{height:"100%"}},{default:o(()=>[t("table",ee,[t("tr",null,[le,t("td",null,[u(U,{modelValue:f.value,"onUpdate:modelValue":a[9]||(a[9]=e=>f.value=e)},{default:o(()=>[(n(!0),r(V,null,b(l.value.events,e=>(n(),y(w,{key:e.name,value:e.name},{default:o(()=>[s(R(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),t("tr",null,[te,t("td",null,[(n(!0),r(V,null,b(l.value.events,e=>c((n(),r("div",{style:{width:"1040px"},key:"script_"+e.name},[u(_(B),{modelValue:e.script,"onUpdate:modelValue":k=>e.script=k,height:"250px"},null,8,["modelValue","onUpdate:modelValue"])])),[[m,f.value==e.name]])),128))])])])]),_:1})]),_:1})])}}};export{Ve as default};
