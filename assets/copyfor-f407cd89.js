import{ai as a,aT as n,c as V,W as l,bD as o,aX as i,o as C,bi as b,U as y}from"./_@vue-5ba92de9.js";const E={__name:"copyfor",props:{query:{type:String,default:()=>""}},setup(g){const t=a("utils"),w=a("ElSelectorg"),k=a("flowrun_copyforok"),c=a("flowrun_dialogshow"),d=g,f=t.query("stepid",d.query),h=t.query("ismobile",d.query),r=n(!1),m=n(null),s=n({}),q={receiver:[{required:!0,message:"请选择接收人",trigger:"blur"}]},x=async()=>{if(t.length(f)===0){t.msg("未找到步骤！",!1);return}await m.value.validate(p=>{if(p){r.value=!0;let e=[{id:f,members:s.value.receiver}];k(e),r.value=!1,c.value=!1}})};return(p,e)=>{const v=i("el-form-item"),_=i("el-button"),S=i("el-form");return C(),V("div",null,[l(S,{model:s.value,ref_key:"ruleFormRef",ref:m,rules:q,"label-width":"70px"},{default:o(()=>[l(v,{label:"接收人",prop:"receiver"},{default:o(()=>[l(b(w),{placeholder:"选择接收人",style:{width:"100%"},"show-search":b(h)!="1",modelValue:s.value.receiver,"onUpdate:modelValue":e[0]||(e[0]=u=>s.value.receiver=u)},null,8,["show-search","modelValue"])]),_:1}),l(v,null,{default:o(()=>[l(_,{type:"primary",disabled:r.value,onClick:e[1]||(e[1]=u=>x())},{default:o(()=>[y("确定")]),_:1},8,["disabled"]),l(_,{disabled:r.value,onClick:e[2]||(e[2]=u=>c.value=!1)},{default:o(()=>[y("取消")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])])}}};export{E as default};
