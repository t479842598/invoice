import{M as Y,B as J}from"./_@element-plus-ad4c9002.js";import"./__vendor-5e6ac033.js";import y from"./Customsubmit-b76eee5f.js";import D from"./Customview-36b72d50.js";import{_ as K}from"./index-823f4b27.js";import{ai as d,aT as o,aF as Q,b5 as P,c as Z,W as a,bD as n,bF as ee,H as le,a as ae,aN as B,aX as r,aY as te,o as N,bi as T,U as w}from"./_@vue-5ba92de9.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_crypto-js-0812dcff.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";const oe={class:"roadui_pagerdiv",style:{"text-align":"left","padding-left":"180px"}},ne={__name:"Customer",setup(ue){const j=d("ajax"),G=d("utils");d("config");const I=d("qs");d("index_openmenu"),d("index_removetab"),d("index_refreshtab");const v=o(!1),C=o(!1),V=o({prop:"customercode",order:"ascending"}),t=o(G.getPager(V.value));o([]);const i=o(""),$=o(),g=o(!1),u=o({customercode:"",customername:"",customersalesperson:""}),x=o([]);Q(()=>{k(!1)});const k=s=>{s&&(t.value.number=1),C.value=!0,v.value=!0,u.value.size=t.value.size,u.value.number=t.value.number,u.value.order=t.value.order,j.post("/yun_customer/GetList",I.stringify(u.value)).then(e=>{x.value=e.data.rows,t.value.total=e.data.total,v.value=!1,C.value=!1}).catch(()=>{v.value=!1})},h=o(""),z=P(null),c=o(!1),q=()=>{i.value="",g.value=!0,z.value=y,h.value="新增",c.value=!0},E=s=>{i.value=s.id,g.value=!1,z.value=y,h.value="修改",c.value=!0},S=o(""),F=P(null),f=o(!1),H=s=>{i.value=s.id,F.value=D,S.value="查看",f.value=!0},M=()=>{};function R({row:s,column:e,rowIndex:_,columnIndex:p}){return{color:"#000",textAlign:"center"}}return B("submit_dialogshow",c),B("view_dialogshow",f),(s,e)=>{const _=r("el-input"),p=r("el-form-item"),b=r("el-button"),A=r("el-form"),m=r("el-table-column"),L=r("el-table"),O=r("el-pagination"),U=r("el-dialog"),W=te("loading");return N(),Z("div",null,[a(A,{ref:"form",model:u.value,inline:"",class:"inline"},{default:n(()=>[a(p,{label:"客户编号"},{default:n(()=>[a(_,{modelValue:u.value.customercode,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value.customercode=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"客户名称"},{default:n(()=>[a(_,{modelValue:u.value.customername,"onUpdate:modelValue":e[1]||(e[1]=l=>u.value.customername=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"业务员"},{default:n(()=>[a(_,{modelValue:u.value.customersalesperson,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value.customersalesperson=l)},null,8,["modelValue"])]),_:1}),a(p,null,{default:n(()=>[a(b,{type:"primary",onClick:e[3]||(e[3]=l=>k(!0)),icon:T(Y)},{default:n(()=>[w("查询")]),_:1},8,["icon"]),a(b,{type:"success",onClick:q,icon:T(J)},{default:n(()=>[w("新增")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),ee((N(),le(L,{data:x.value,stripe:t.value.tableStripe,border:"",style:{width:"940px"},"max-height":"500","highlight-current-row":t.value.tableHighlightCurrentRow,"header-cell-style":R,"default-sort":V.value},{default:n(()=>[a(m,{prop:"customercode",label:"客户编号",align:"center",width:"200"}),a(m,{prop:"customername",label:"客户名称",align:"center",width:"200"}),a(m,{prop:"customerlinker",label:"联系人",align:"center",width:"120"}),a(m,{prop:"customerphone",label:"联系电话",align:"center",width:"120"}),a(m,{prop:"customersalesperson",label:"业务员",align:"center",width:"120"}),a(m,{label:"操作",width:"180",align:"center"},{default:n(l=>[a(b,{type:"primary",size:"small",onClick:X=>E(l.row)},{default:n(()=>[w("修改")]),_:2},1032,["onClick"]),a(b,{type:"success",size:"small",onClick:X=>H(l.row)},{default:n(()=>[w("详情")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","stripe","highlight-current-row","default-sort"])),[[W,C.value]]),ae("div",oe,[a(O,{currentPage:t.value.number,"onUpdate:currentPage":e[4]||(e[4]=l=>t.value.number=l),"page-size":t.value.size,"onUpdate:pageSize":e[5]||(e[5]=l=>t.value.size=l),"page-sizes":t.value.sizes,background:t.value.background,layout:t.value.layout,total:t.value.total,disabled:v.value,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange},null,8,["currentPage","page-size","page-sizes","background","layout","total","disabled","onSizeChange","onCurrentChange"])]),a(U,{modelValue:c.value,"onUpdate:modelValue":e[8]||(e[8]=l=>c.value=l),title:h.value,"align-center":"","destroy-on-close":"",width:"1000px",draggable:"","close-on-click-modal":!1,onClose:M},{default:n(()=>[a(y,{ref_key:"GetSub",ref:$,id:i.value,"onUpdate:id":e[6]||(e[6]=l=>i.value=l),new:g.value,"onUpdate:new":e[7]||(e[7]=l=>g.value=l)},null,8,["id","new"])]),_:1},8,["modelValue","title"]),a(U,{modelValue:f.value,"onUpdate:modelValue":e[10]||(e[10]=l=>f.value=l),title:S.value,"align-center":"","destroy-on-close":"",width:"1000px",draggable:"","close-on-click-modal":!1},{default:n(()=>[a(D,{id:i.value,"onUpdate:id":e[9]||(e[9]=l=>i.value=l)},null,8,["id"])]),_:1},8,["modelValue","title"])])}}},we=K(ne,[["__scopeId","data-v-6e70032d"]]);export{we as default};
