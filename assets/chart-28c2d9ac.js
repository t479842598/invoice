import{f as c}from"./flow-show-9c68805e.js";import{ai as r,aT as f,aF as m,bF as h,c as _,a as g,aY as y,o as x}from"./_@vue-5ba92de9.js";import"./_raphael-a934d412.js";import"./__vendor-5e6ac033.js";const F={style:{overflow:"auto"}},b={__name:"chart",props:{query:{type:String,default:()=>""}},setup(d){const u=r("ajax"),e=r("utils"),l=d,n=e.query("flowid",l.query),p="flowShowDiv_"+e.query("flowid",l.query),a=f(!1),w=f({});m(()=>{v()});const v=()=>{a.value=!0,u.post("/Flow/GetFlowDesignJson?isnew=0&flowid="+n).then(o=>{if(!o.success)e.msg("加载流程图失败！",!1);else{w.value=o.data;const t=e.getTheme();let s;e.isDef(t)&&e.length(t.color)>0&&(s={line:t.color,step:t.color,focus:"#ffb526",fontSize:14,stepText:""});const i=e.getFlowMaxXY(o.data.steps);c.init(n,i.x+150,i.y+50,s,!1),c.openFlow(o.data,null)}a.value=!1}).catch(()=>{})};return(o,t)=>{const s=y("loading");return h((x(),_("div",F,[g("div",{id:p})])),[[s,a.value]])}}};export{b as default};
