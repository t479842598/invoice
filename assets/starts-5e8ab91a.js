import{ai as h,aF as j,aT as v,c as r,a as l,W as u,bD as w,F as g,aV as x,aX as m,o as i,b9 as y,H as D,ay as L,bi as k,aZ as z}from"./_@vue-5ba92de9.js";const G={style:{height:"inherit"}},J={class:"roaduim_title"},N=l("span",null,"发起流程",-1),P={style:{padding:"0 12px"}},E={class:"roadui_flowstar_title"},H=["onClick"],I={class:"roaduim_flowstar_flow_ico"},K={class:"roaduim_flowstar_flowtitle"},W={__name:"starts",setup(M){const C=h("ajax"),s=h("utils"),F=h("indexm_openurl");j(()=>{V()});const f=v(""),d=v([]);var n=[];const V=()=>{C.post("/Flow/GetStarts").then(e=>{if(e.success)d.value=e.data,n=s.cloneJson(e.data);else{let t=e.msg;s.length(t)===0&&(t=e.code==1?"用户id错误！":"流程加载失败！"),s.msg(t,!1)}}).catch(()=>{})},b=e=>{if(s.length(e)===0){d.value=s.cloneJson(n);return}let t=[];for(let o=0;o<n.length;o++){const _=n[o].children.filter(p=>p.name.toLowerCase().indexOf(e.toLowerCase())>=0);_.length>0&&t.push({id:n[o].id,title:n[o].title,title_en:n[o].title_en,title_tw:n[o].title_tw,children:_})}d.value=t},B=e=>{F("task_m_"+s.createGuid(!1),"/flow/run/index.vue?flowid="+e.id+"&ismobile=1")};return(e,t)=>{const o=m("Promotion"),_=m("el-icon"),p=m("el-input"),S=m("el-space");return i(),r("div",G,[l("div",J,[u(_,null,{default:w(()=>[u(o)]),_:1}),N]),l("div",P,[l("div",null,[u(p,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=c=>f.value=c),placeholder:"输入关键字查询",clearable:"",onInput:b,style:{width:"300px"}},null,8,["modelValue"])]),l("div",null,[(i(!0),r(g,null,x(d.value,c=>(i(),r("div",{key:c.id},[l("div",E,y(c.title),1),u(S,{wrap:"",size:20,alignment:"flex-start"},{default:w(()=>[(i(!0),r(g,null,x(c.children,a=>(i(),r("div",{key:a.id,onClick:O=>B(a),class:"roaduim_flowstar_flow"},[l("div",I,[(i(),D(z(k(s).length(a.ico)>0?a.ico:"ship"),{style:L(k(s).length(a.color)>0?"color:"+a.color:"")},null,8,["style"]))]),l("div",K,[l("span",null,y(a.name),1)])],8,H))),128))]),_:2},1024)]))),128))])])])}}};export{W as default};
