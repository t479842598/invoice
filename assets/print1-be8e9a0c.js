import{ai as a,aT as b,aF as M,c as r,a as e,W as c,bD as i,H as z,I as d,U as u,ay as F,bi as o,b9 as l,aX as p,o as s,F as N,aV as U}from"./_@vue-5ba92de9.js";const H={class:"roadui_noprint",style:{margin:"10px 0 12px 10px"}},L={style:{padding:"0 8px","margin-top":"8px"}},R={cellpadding:"0",cellspacing:"0",border:"0",style:{width:"100%"}},I={style:{"font-size":"16px","font-weight":"bold",height:"40px"}},W={style:{height:"40px",color:"var(--el-color-info)"}},A={key:0},G={key:1},O=e("tr",null,[e("td",{style:{"border-bottom":"1px dashed var(--el-border-color-light)"}})],-1),X=["innerHTML"],$={key:0},J=e("div",{style:{"margin-top":"8px"}},"附件：",-1),Q={__name:"print1",props:{query:{type:String,default:()=>""}},setup(k){const C=a("ajax"),n=a("utils");a("qs");const w=a("index_openmenu"),T=a("index_removetab"),S=a("config"),m=k,h=n.query("id",m.query),V=n.query("source",m.query),_=b(!1),t=b({});M(()=>{if(n.length(h)>0){_.value=!0;let g="/Mail/GetViewMail?id="+h+"&source="+V;C.post(g).then(v=>{if(v.code===1){n.msg("要查看的邮件不存在，请刷新列表！",!1),T();return}t.value=v.data,_.value=!1}).catch(()=>{_.value=!1})}});const j=()=>{window.print()},q=()=>{window.close()};return(g,v)=>{const f=p("el-button"),D=p("el-tag"),x=p("el-space"),B=p("el-link");return s(),r("div",null,[e("div",H,[c(f,{type:"primary",onClick:j},{default:i(()=>[u("打印")]),_:1}),c(f,{onClick:q},{default:i(()=>[u("关闭")]),_:1})]),e("div",L,[e("table",R,[e("tr",null,[e("td",I,[t.value.mailType>1?(s(),z(D,{key:0,effect:"dark",style:{"margin-right":"8px","border-width":"0"},type:t.value.mailType===2?"":"success"},{default:i(()=>[u(l(t.value.mailType===2?"抄送":"密送"),1)]),_:1},8,["type"])):d("",!0),u(" 主题："),e("span",{style:F(o(n).length(t.value.subjectColor)>0?"color:"+t.value.subjectColor:"")},l(t.value.mailSubject),5)])]),e("tr",null,[e("td",W,[c(x,{size:30},{default:i(()=>[e("span",null,"发件人："+l(t.value.sender)+" - "+l(t.value.senderOrg),1),e("span",null,"日期："+l(t.value.receiveTime),1),o(n).length(t.value.receiveUsers)>0?(s(),r("span",A,"收件人："+l(t.value.receiveUsers),1)):d("",!0),o(n).length(t.value.carbonCopy)>0?(s(),r("span",G,"抄送："+l(t.value.carbonCopy),1)):d("",!0)]),_:1})])]),O,e("tr",null,[e("td",null,[e("div",{style:{margin:"12px 0 0 0"},innerHTML:t.value.content},null,8,X)])]),o(n).length(t.value.files)>0?(s(),r("tr",$,[e("td",null,[J,e("div",null,[c(x,{size:20},{default:i(()=>[(s(!0),r(N,null,U(t.value.files,(y,E)=>(s(),r("span",{key:y.id},[c(B,{onClick:K=>o(n).showFile(o(w),y,o(S).SERVER_WEBADDRESS)},{default:i(()=>[u(l(E+1)+". "+l(y.name),1)]),_:2},1032,["onClick"])]))),128))]),_:1})])])])):d("",!0)])])])}}};export{Q as default};
