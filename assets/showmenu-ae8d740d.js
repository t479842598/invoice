import{ai as r,aT as m,aF as U,c as y,a as z,W as l,bD as e,bF as I,H as i,aX as n,aY as M,o as s,U as d,bi as P,aZ as S,I as E,b9 as f,F as G,aV as H}from"./_@vue-5ba92de9.js";const L={style:{"margin-bottom":"8px"}},X={__name:"showmenu",props:{query:{type:String,default:()=>""}},setup(g){const h=r("ajax"),t=r("utils"),b=r("qs"),c=g,v=r("openPage"),a=m(!1),p=m([]),w=t.query("userid",c.query),q=t.query("organizetype",c.query),k=t.query("returnurl",c.query);U(()=>{x()});const x=()=>{a.value=!0,h.post("/Menu/GetUserTree",b.stringify({userid:w,showsource:1})).then(u=>{if(!u.success){t.msg("加载数据失败！",!1),a.value=!1;return}p.value=u.data,a.value=!1}).catch(()=>{a.value=!1})},C=()=>{v({type:q},k)};return(u,O)=>{const D=n("el-button"),_=n("el-table-column"),B=n("el-tag"),T=n("el-space"),V=n("el-table"),F=M("loading");return s(),y("div",null,[z("div",L,[l(D,{type:"primary",onClick:C},{default:e(()=>[d("返回")]),_:1})]),I((s(),i(V,{data:p.value,style:{width:"100%"},"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:e(()=>[l(_,{prop:"title",label:"菜单名称",width:"320"},{default:e(o=>[P(t).length(o.row.ico)>0?(s(),i(S(o.row.ico),{key:0,class:"roadui_org_setmenuico"})):E("",!0),d(" "+f(o.row.title),1)]),_:1}),l(_,{prop:"buttons",label:"来源"},{default:e(o=>[l(T,null,{default:e(()=>[(s(!0),y(G,null,H(o.row.source,(N,j)=>(s(),i(B,{key:j,type:"info"},{default:e(()=>[d(f(N),1)]),_:2},1024))),128))]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[F,a.value]])])}}};export{X as default};
