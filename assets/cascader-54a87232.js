import{ai as S,aT as V,by as K,aF as M,c as s,W as o,bD as u,aX as d,o as n,a,bi as h,U as r,F as f,aV as g,H as x,b9 as T,bF as p,bv as c}from"./_@vue-5ba92de9.js";import{d as C}from"./form-design-8c117009.js";import"./index-823f4b27.js";import"./__vendor-5e6ac033.js";import"./_@element-plus-ad4c9002.js";import"./_crypto-js-0812dcff.js";import"./_element-plus-8c7ce171.js";import"./_@popperjs-c75af06c.js";import"./_pdfjs-dist-c04561eb.js";import"./_@microsoft-43c4e133.js";import"./_vue-codemirror-50da885a.js";import"./_jquery-3a83ed9f.js";const W={class:"roadui_formdesign_subtablediv"},X={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},z=a("th",null,"默认值",-1),A=a("th",null,"宽度",-1),G={style:{"margin-right":"12px"}},I={style:{"margin-left":"18px"}},Y=a("span",null,"展开方式",-1),Z={style:{"margin-left":"18px"}},$=a("span",null,"值类型",-1),ee=a("th",null,"选项来源",-1),le={style:{"margin-left":"12px"}},ae=a("th",null,"字典项",-1),te=a("th",null,"字符串",-1),oe=a("th",null,"SQL",-1),ue=a("th",null,"URL",-1),ne={class:"roadui_formtable",style:{width:"98%",margin:"0 auto"}},de=a("th",{style:{width:"50px"}},"事件",-1),re=a("th",null,"脚本",-1),xe={__name:"cascader",setup(se){const v=S("utils"),j=S("ElSelectdict"),R=S("ElCodemirror"),y=S("setEditRecord"),q=V(null),l=V({}),B=C.defaultValueOptions(),b=V(""),F=V("属性"),L=C.dataSourceOptions(),N=C.dictValueFieldOptions(),E=V([]);K(()=>l.value.dataSource,i=>{i=="sql"&&v.getConns().then(t=>{E.value=t})}),M(()=>{l.value=y.value.set,v.length(l.value.events)>0&&(b.value=l.value.events[0].name),v.length(y.value.title)>0&&(F.value=y.value.title),q.value.initTitle(l.value.dataSourceDict)});const P=i=>{v.length(i)!==0&&(v.hasKey(l.value,"defaultValue")||(l.value.defaultValue=""),l.value.defaultValue+=i[i.length-1])};return(i,t)=>{const Q=d("el-cascader"),m=d("el-input"),H=d("el-checkbox"),_=d("el-radio"),w=d("el-radio-group"),U=d("el-option"),k=d("el-select"),O=d("el-tab-pane"),J=d("el-tabs");return n(),s("div",W,[o(J,null,{default:u(()=>[o(O,{name:"0",label:F.value,style:{height:"100%"}},{default:u(()=>[a("table",X,[a("tr",null,[z,a("td",null,[o(Q,{placeholder:"选择默认值",options:h(B),props:{expandTrigger:"hover",checkStrictly:!1},clearable:"",onChange:P,style:{width:"260px","margin-right":"18px"}},null,8,["options"]),o(m,{modelValue:l.value.defaultValue,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value.defaultValue=e),style:{width:"730px"},clearable:""},null,8,["modelValue"])])]),a("tr",null,[A,a("td",null,[o(m,{modelValue:l.value.width,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value.width=e),placeholder:"px或%",clearable:"",style:{width:"100px","margin-right":"12px"}},null,8,["modelValue"]),a("span",G,[r("背景文字"),o(m,{modelValue:l.value.placeholder,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value.placeholder=e),placeholder:"placeholder",clearable:"",style:{width:"180px","margin-left":"12px"}},null,8,["modelValue"])]),o(H,{modelValue:l.value.allowClear,"onUpdate:modelValue":t[3]||(t[3]=e=>l.value.allowClear=e),label:"可清空",style:{"vertical-align":"middle"}},null,8,["modelValue"]),a("span",I,[Y,o(w,{modelValue:l.value.expandTrigger,"onUpdate:modelValue":t[4]||(t[4]=e=>l.value.expandTrigger=e),style:{"margin-left":"12px","vertical-align":"middle"}},{default:u(()=>[o(_,{label:"click"},{default:u(()=>[r("单击")]),_:1}),o(_,{label:"hover"},{default:u(()=>[r("移入")]),_:1})]),_:1},8,["modelValue"])]),a("span",Z,[$,o(w,{modelValue:l.value.emitPath,"onUpdate:modelValue":t[5]||(t[5]=e=>l.value.emitPath=e),style:{"margin-left":"12px","vertical-align":"middle"}},{default:u(()=>[o(_,{label:"0"},{default:u(()=>[r("全路径数组")]),_:1}),o(_,{label:"1"},{default:u(()=>[r("最后节点值")]),_:1})]),_:1},8,["modelValue"])])])]),a("tr",null,[ee,a("td",null,[o(w,{modelValue:l.value.dataSource,"onUpdate:modelValue":t[6]||(t[6]=e=>l.value.dataSource=e),style:{"vertical-align":"middle"}},{default:u(()=>[(n(!0),s(f,null,g(h(L),e=>(n(),x(_,{key:e.value,label:e.value},{default:u(()=>[r(T(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),p(a("span",le,[r(" 数据连接 "),o(k,{modelValue:l.value.dataSourceSqlConn,"onUpdate:modelValue":t[7]||(t[7]=e=>l.value.dataSourceSqlConn=e),placeholder:"选择执行SQL的数据连接",clearable:"",style:{width:"200px",margin:"0 12px","vertical-align":"middle"}},{default:u(()=>[(n(!0),s(f,null,g(E.value,(e,D)=>(n(),x(U,{key:"conn_"+D,value:e.id,label:e.title},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],512),[[c,l.value.dataSource=="sql"]])])]),p(a("tr",null,[ae,a("td",null,[o(h(j),{modelValue:l.value.dataSourceDict,"onUpdate:modelValue":t[8]||(t[8]=e=>l.value.dataSourceDict=e),ref_key:"dataSourceDictRef",ref:q,style:{width:"400px","margin-right":"12px"}},null,8,["modelValue"]),r(" 值字段 "),o(k,{modelValue:l.value.dataSourceDictValueField,"onUpdate:modelValue":t[9]||(t[9]=e=>l.value.dataSourceDictValueField=e),style:{width:"127px","margin-left":"12px"},clearable:""},{default:u(()=>[(n(!0),s(f,null,g(h(N),e=>(n(),x(U,{key:e.value,value:e.value,label:e.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])],512),[[c,l.value.dataSource=="dict"]]),p(a("tr",null,[te,a("td",null,[o(m,{type:"textarea",rows:3,modelValue:l.value.dataSourceString,"onUpdate:modelValue":t[10]||(t[10]=e=>l.value.dataSourceString=e),placeholder:"cascader控件的json格式字符串：[{value:'',label:'',children:[{value:'',label:''}]}]。"},null,8,["modelValue"])])],512),[[c,l.value.dataSource=="string"]]),p(a("tr",null,[oe,a("td",null,[o(m,{type:"textarea",rows:3,modelValue:l.value.dataSourceSql,"onUpdate:modelValue":t[11]||(t[11]=e=>l.value.dataSourceSql=e),placeholder:"通过sql查询返回一个json格式字符串：[{value:'',label:'',children:[{value:'',label:''}]}]。"},null,8,["modelValue"])])],512),[[c,l.value.dataSource=="sql"]]),p(a("tr",null,[ue,a("td",null,[o(m,{type:"textarea",rows:3,modelValue:l.value.dataSourceUrl,"onUpdate:modelValue":t[12]||(t[12]=e=>l.value.dataSourceUrl=e),placeholder:"post一个url地址，返回一个json格式字符串：[{value:'',label:'',children:[{value:'',label:''}]}]。"},null,8,["modelValue"])])],512),[[c,l.value.dataSource=="url"]])])]),_:1},8,["label"]),o(O,{name:"1",label:"事件",style:{height:"100%"}},{default:u(()=>[a("table",ne,[a("tr",null,[de,a("td",null,[o(k,{modelValue:b.value,"onUpdate:modelValue":t[13]||(t[13]=e=>b.value=e)},{default:u(()=>[(n(!0),s(f,null,g(l.value.events,e=>(n(),x(U,{key:e.name,value:e.name},{default:u(()=>[r(T(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),a("tr",null,[re,a("td",null,[(n(!0),s(f,null,g(l.value.events,e=>p((n(),s("div",{style:{width:"1040px"},key:"script_"+e.name},[o(h(R),{modelValue:e.script,"onUpdate:modelValue":D=>e.script=D,height:"250px"},null,8,["modelValue","onUpdate:modelValue"])])),[[c,b.value==e.name]])),128))])])])]),_:1})]),_:1})])}}};export{xe as default};
